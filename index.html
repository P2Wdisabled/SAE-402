<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPC avec A-Frame et Three.js</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.aframe.io/releases/1.2.0/aframe-extras.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
    <link rel="stylesheet" href="stylePopUp.css">
</head>
<body>

    <a-scene physics="debug: true">
        <a-assets>
             <a-asset-item id="npc1" src="./NPC/Man.glb"></a-asset-item>
             <a-asset-item id="npc2" src="./NPC/Business%20Man.glb"></a-asset-item>
             <a-asset-item id="npc3" src="./NPC/Hoodie%20Character.glb"></a-asset-item>
         </a-assets>
 
         <a-entity id="camera-entity" camera look-controls wasd-controls="acceleration: 25" position="0 1.6 5">
             <a-cursor></a-cursor>
         </a-entity>
 
         <a-entity id="npc1-container" position="2 0 -5">
            <a-entity id="npc1-entity" gltf-model="#npc1" scale="0.2 0.2 0.2"></a-entity>
            <a-box id="npc1-hitbox" class="clickable" position="0 1 0" width="1" height="2" depth="1" opacity="0" transparent="true"></a-box>
        </a-entity>
        
        <a-entity id="npc2-container" position="-2 0 -5">
            <a-entity id="npc2-entity" gltf-model="#npc2" scale="0.5 0.5 0.5"></a-entity>
            <a-box id="npc2-hitbox" class="clickable" position="0 1 0" width="1" height="2" depth="1" opacity="0" transparent="true"></a-box>
        </a-entity>
        
        <a-entity id="npc3-container" position="0 0 -5">
            <a-entity id="npc3-entity" gltf-model="#npc3" scale="0.5 0.5 0.5"></a-entity>
            <a-box id="npc3-hitbox" class="clickable" position="0 1 0" width="1" height="2" depth="1" opacity="0" transparent="true"></a-box>
        </a-entity>
        

        <!-- LumiÃ¨re -->
        <a-light type="directional" position="2 4 3" intensity="0.6"></a-light>
        <a-light type="ambient" intensity="0.4"></a-light>

        <!-- Ajouter le sol -->
        <a-plane rotation="-90 0 0" position="0 0 0" width="20" height="20" color="#7BC8A4" static-body></a-plane>

        <a-box position="0 1 -10" width="20" height="2" depth="0.1" visible="true" static-body="shape: box;"></a-box>
        <a-box position="0 1 10" width="20" height="2" depth="0.1" visible="true" static-body="shape: box;"></a-box>
        <a-box position="-10 1 0" width="0.1" height="2" depth="20" visible="true" static-body="shape: box;"></a-box>
        <a-box position="10 1 0" width="0.1" height="2" depth="20" visible="true" static-body="shape: box;"></a-box>
    </a-scene>
    <div id="overlay"></div>
    <div id="dialogue-box">
        <p id="dialogue-text">Hi! How can I help you?</p>
        <button id="choice1" onclick="handleChoice(1)">Where is the bar?</button>
        <button id="choice2" onclick="handleChoice(2)">Where is the police station?</button>
        <button onclick="closeDialogue()">Fermer</button>
    </div>
    
    <script src="clickable.js"></script>


</body>
</html>
